<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<style>
    body {
        padding: 0;
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    #PlayGround {

        border: 5px black solid;
    }
</style>

<body>
    <canvas id="PlayGround" width="700px" height="700px">

    </canvas>
</body>
<script>
    class ball {
        constructor(x, y, radius) {
            this.x = x;
            this.y = y;
            this.radius = radius;

        }

        isColision(entity2) {
            return !(this.x - this.radius + this.radius * 2 < entity2.x ||
                entity2.x + entity2.width < this.x - this.radius ||
                this.y - this.radius + this.radius * 2 < entity2.y ||
                entity2.y + entity2.height < this.y - this.radius);
        }
        isOverColision(entity2) {
            return this.isColision(entity2) && this.y - this.radius + this.radius * 2 == entity2.y
        }
        isUnderColision(entity2) {
            return this.isColision(entity2) && this.y - this.radius == entity2.y + entity2.height
        }
        isLeftColision(entity2) {
            return this.isColision(entity2) && this.x - this.radius == entity2.x + entity2.width
        }
        isRightColision(entity2) {
            return this.isColision(entity2) && this.x - this.radius + this.radius * 2 == entity2.x;
        }
    }

    class Element {
        constructor(x, y, height, width, name) {
            this.x = x;
            this.y = y;
            this.height = height;
            this.width = width;
            this.name = name;
            this.active = true;
        }

        createElement(ctx) {
            if (this.active) {
                ctx.beginPath();
                ctx.rect(this.x, this.y, this.height, this.width);
                ctx.fillStyle = "black";
                if(this.name == "start"){
                    ctx.fillStyle = "green";
                }
                else if(this.name == "end"){
                    ctx.fillStyle = "red";
                }
                ctx.fill();
            }
        }
    }

    let elementArray = [];
    elementArray.push(new Element(0,0,70,70,"start"));
    elementArray.push(new Element(355,250,115,350,"end"));
    elementArray.push(new Element(0, 0, 700, 10, "wall"));
    elementArray.push(new Element(0,0,10,700,"wall"));
    elementArray.push(new Element(0,690,700,10,"wall"));
    elementArray.push(new Element(690,0,10,700,"wall"));
    elementArray.push(new Element(70,0,15,600,"wall"));
    elementArray.push(new Element(70,600,100,15,"wall"));
    elementArray.push(new Element(170,530,70,15,"wall"));
    elementArray.push(new Element(240,530,15,170,"wall"));
    elementArray.push(new Element(160,70,15,475,"wall"));
    elementArray.push(new Element(170,70,440,15,"wall"));
    elementArray.push(new Element(610,70,15,400,"wall"));
    elementArray.push(new Element(170,70,440,15,"wall"));
    elementArray.push(new Element(540,530,150,15,"wall"));
    elementArray.push(new Element(540,150,15,380,"wall"));
    elementArray.push(new Element(240,150,300,15,"wall"));
    elementArray.push(new Element(240,150,15,290,"wall"));
    elementArray.push(new Element(240,440,100,15,"wall"));
    elementArray.push(new Element(340,440,15,160,"wall"));
    elementArray.push(new Element(340,600,270,15,"wall"));
    elementArray.push(new Element(340,250,120,15,"wall"));
    elementArray.push(new Element(460,250,15,350,"wall"));
    elementArray.push(new Element(340,250,15,120,"wall"));




    let canvasElement = document.getElementById('PlayGround');
    let ctx = canvasElement.getContext('2d');

    for (let i = 0; i < elementArray.length; i++) {
        console.log('test')
        elementArray[i].createElement(ctx);
    }
    ///////////////////////////////////\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

    function handleOrientation(event) {
        let x = event.beta;  // In degree in the range [-180,180]
        let y = event.gamma; // In degree in the range [-90,90]

        output.innerHTML = "beta : " + x + "\n";
        output.innerHTML += "gamma: " + y + "\n";

        // Because we don't want to have the device upside dow
        // We constrain the x value to the range [-90,90]
        if (x > 90) { x = 90 };
        if (x < -90) { x = -90 };

        // To make computation easier we shift the range of 
        // x and y to [0,180]
        x += 90;
        y += 90;

        // 10 is half the size of the ball
        // It center the positioning point to the center of the ball
        ball.style.top = (maxX * x / 180 - 2) + "px";
        ball.style.left = (maxY * y / 180 - 2) + "px";
    }
    setInterval(window.addEventListener('deviceorientation', handleOrientation), 100);


</script>

</html>